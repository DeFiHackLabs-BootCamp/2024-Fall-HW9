pragma solidity ^0.8.0;
import {Test, console} from "forge-std/Test.sol";
import "./exploitBase.t.sol";

contract ExploitTest is ExploitBaseTest {
    function test_ExploitWithBadDebt() public validation {
        uint256 price = wstEthTrove.fetchPrice();
        console.log("ICR of Poor Guy 1: %16e%", wstEthTrove.getCurrentICR(poorGuys[0], price));
        console.log("ICR of Poor Guy 2: %16e%", wstEthTrove.getCurrentICR(poorGuys[1], price));
        console.log("Your wstETH balance: %18e", wstEth.balanceOf(attacker));

        // TODO: exploit the vulnerability
    }
}
